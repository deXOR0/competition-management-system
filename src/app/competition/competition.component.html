<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bootstrap demo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container d-flex flex-column align-items-center">
      <h3 class="mt-3">Current Match</h3>
      <div class="current-match d-flex">
        <div class="left score-box me-2 d-flex flex-row">
          <p class="align-self-center mb-0">
            {{ this.matches[this.currentMatch].first.initial }}
          </p>
        </div>
        <div class="middle-left score-box me-2 fs-1 fw-bold">
          {{ this.matches[this.currentMatch].first.points }}
        </div>
        <div class="middle score-box me-2 d-flex flex-row">
          <div class="middle-content score-box align-self-center mb-0 fs-6">
            v
          </div>
        </div>
        <div class="middle-right score-box me-2 fs-1 fw-bold">
          {{ this.matches[this.currentMatch].second.points }}
        </div>
        <div class="right score-box me-2 d-flex flex-row">
          <p class="align-self-center mb-0">
            {{ this.matches[this.currentMatch].second.initial }}
          </p>
        </div>
      </div>
      <div class="mt-3">
        <input #firstPlayerScore class="pair" type="number" />
        <input #secondPlayerScore class="pair" type="number" name="" id="" />
      </div>
      <div class="mt-3">
        <button (click)="updateScore()" class="btn btn-warning btn-sm">
          Save
        </button>
      </div>
      <div class="mt-3">
        <button class="btn navigate-match" (click)="loadPreviousMatch()">
          Previous Match
        </button>
        <button class="btn navigate-match" (click)="loadNextMatch()">
          Next Match
        </button>
      </div>
      <div class="table-container mt-3 d-flex">
        <div class="mt-2 mx-4">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Player 1</th>
                <th scope="col">Point 1</th>
                <th scope="col">Point 2</th>
                <th scope="col">Player 2</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let match of matches; index as i">
                <th scope="row">{{ i + 1 }}</th>
                <td>{{ match.first.initial }}</td>
                <td>{{ match.first.points }}</td>
                <td>{{ match.second.points }}</td>
                <td>{{ match.second.initial }}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="mt-2 mx-4">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Initial</th>
                <th scope="col">Pts</th>
                <th scope="col">PF</th>
                <th scope="col">PA</th>
                <th scope="col">PD</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let player of players; index as i">
                <th scope="row">{{ i + 1 }}</th>
                <td>{{ player.initial }}</td>
                <td>{{ player.pts }}</td>
                <td>{{ player.pf }}</td>
                <td>{{ player.pa }}</td>
                <td>{{ player.pd }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="my-3" *ngIf="this.currentMatch == this.matches.length - 1">
        <button (click)="endCompetition()" class="btn btn-danger">
          End Competition
        </button>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
